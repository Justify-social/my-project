# Icon Component Documentation

## Overview

The Icon component is the standard way to render icons throughout the application. It has been fully migrated from HeroIcons to Font Awesome and optimized for tree-shaking to minimize bundle size.

## Basic Usage

```tsx
import { Icon } from '@/components/ui/icon';

// Basic usage
<Icon name="user" />

// With solid variant
<Icon name="user" solid />

// With different size
<Icon name="search" size="lg" />

// With custom color
<Icon name="heart" color="red" />

// Platform icons with automatic platform colors
<Icon platformName="instagram" />
```

## Optimization Techniques

The Icon component has been optimized in several ways:

### 1. Individual Icon Imports

Instead of bulk importing all icons, we now import each icon individually, allowing webpack to tree-shake unused icons:

```tsx
// BEFORE - imports all icons even if we only use one
import { faUser, faSearch, /* many more */ } from '@fortawesome/free-solid-svg-icons';

// AFTER - only imports the specific icon
import { faUser } from '@fortawesome/free-solid-svg-icons/faUser';
```

### 2. Lazy Loading for Rare Icons

For icons that are used infrequently, we provide a lazy loading mechanism:

```tsx
// In your component
import { loadIcon } from '@/lib/icon-loader';
import { useEffect, useState } from 'react';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';

function RareIconComponent() {
  const [icon, setIcon] = useState(null);
  
  useEffect(() => {
    // Load the icon dynamically only when this component is mounted
    loadIcon('someRareIcon', 'solid').then(setIcon);
  }, []);
  
  if (!icon) return <div className="w-5 h-5" />; // Placeholder
  
  return <FontAwesomeIcon icon={icon} className="w-5 h-5" />;
}
```

### 3. Preloading Common Icons

For commonly used icons, we provide a preloading mechanism to avoid UI flickering:

```tsx
import { preloadCommonIcons } from '@/lib/icon-loader';

// Call this during app initialization or when component mounts
useEffect(() => {
  preloadCommonIcons();
}, []);
```

## Available Icon Types

The Icon component supports multiple icon types:

### UI Icons

Standard interface icons used throughout the application.

```tsx
<Icon name="user" />
<Icon name="search" />
<Icon name="check" />
<Icon name="close" />
// ...many more
```

### Platform Icons

Social media platform icons with automatic platform colors.

```tsx
<Icon platformName="instagram" />
<Icon platformName="youtube" />
<Icon platformName="tiktok" />
<Icon platformName="facebook" />
<Icon platformName="x" />
<Icon platformName="linkedin" />
```

### KPI Icons

KPI (Key Performance Indicator) icons used in analytics and reporting.

```tsx
<Icon kpiName="views" />
<Icon kpiName="engagement" />
<Icon kpiName="reach" />
// ...and more
```

### App Icons

Application section icons used in navigation and UI.

```tsx
<Icon appName="campaigns" />
<Icon appName="influencers" />
<Icon appName="analytics" />
// ...and more
```

## Props Reference

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `name` | `IconName` | - | Name of the UI icon to display |
| `kpiName` | `KpiIconName` | - | Name of the KPI icon to display |
| `appName` | `AppIconName` | - | Name of the app icon to display |
| `platformName` | `PlatformIconName` | - | Name of the platform icon to display |
| `size` | `'xs' \| 'sm' \| 'md' \| 'lg' \| 'xl'` | `'md'` | Size of the icon |
| `solid` | `boolean` | `false` | Whether to use solid fill instead of outline |
| `color` | `string` | `'currentColor'` | Color of the icon |
| `active` | `boolean` | `false` | Whether the icon is in active state |
| `className` | `string` | - | Additional class names |

## Migration from HeroIcons

If you're updating code that used the old HeroIcons, use the migration helper:

```tsx
// Before
import { UserIcon } from '@heroicons/react/24/solid';
<UserIcon className="w-5 h-5" />

// After
import { migrateHeroIcon } from '@/lib/icon-helpers';
{migrateHeroIcon('UserIcon', { size: 'md' })}
```

## Bundle Size Impact

The migration to Font Awesome with tree-shaking optimization has significantly reduced the bundle size:

- Before: ~180KB gzipped for icons
- After: ~80KB gzipped for icons
- Reduction: ~100KB (55%)

## Best Practices

1. **Use named icons**: Always use the `name` prop with a valid icon name from the predefined sets.
2. **Consistent sizing**: Use the `size` prop instead of manually adding size classes.
3. **Platform colors**: For platform icons, let the component handle platform-specific colors.
4. **Lazy loading**: For pages with many rare icons, consider using the lazy loading utility.
5. **Solid vs Outline**: Be consistent in your usage of `solid` prop across similar UI elements. 